// Структурированные данные для образовательной платформы изучения эсперанто

export interface Question {
  id: number;
  type: 'multiple-choice' | 'text-input' | 'true-false';
  question: string;
  options?: string[];
  correctAnswer: string;
  explanation: string;
  hints: string[];
  difficulty: 'easy' | 'medium' | 'hard';
}

export interface TheoryBlock {
  id: number;
  title: string;
  content: string;
  examples: string[];
  keyTerms: string[];
  practicalTips: string[];
}

export interface Section {
  id: number;
  title: string;
  description: string;
  duration: string;
  theoryBlocks: TheoryBlock[];
  questions: Question[];
  prerequisites?: number[];
}

export interface Chapter {
  id: number;
  title: string;
  description: string;
  difficulty: 'Легкий' | 'Средний' | 'Сложный';
  estimatedTime: string;
  sections: Section[];
  prerequisites?: number[];
}

// Данные курса эсперанто
export const esperantoData: Chapter[] = [
  {
    id: 1,
    title: "Введение в Эсперанто",
    description: "Что такое Эсперанто, история и цели языка, принципы и структура",
    difficulty: "Легкий",
    estimatedTime: "2-3 часа",
    sections: [
      {
        id: 1,
        title: "Что такое Эсперанто",
        description: "Основные понятия и история создания языка",
        duration: "30 мин",
        theoryBlocks: [
          {
            id: 1,
            title: "История создания эсперанто",
            content: "Эсперанто — международный искусственный язык, созданный в 1887 году польским врачом и лингвистом Людвиком Лазарем Заменгофом. Псевдоним 'Доктор Эсперанто' означает 'тот, кто надеется'. Заменгоф мечтал создать простой и логичный язык, который мог бы служить средством международного общения и способствовать взаимопониманию между народами.",
            examples: [
              "1887 год — публикация первого учебника 'Международный язык'",
              "Псевдоним 'D-ro Esperanto' стал названием языка",
              "Цель: преодоление языковых барьеров между народами"
            ],
            keyTerms: ["Заменгоф", "1887 год", "международный язык", "Доктор Эсперанто"],
            practicalTips: [
              "Изучите биографию Заменгофа для лучшего понимания мотивации создания языка",
              "Помните, что эсперанто создавался как нейтральный язык для всех народов"
            ]
          },
          {
            id: 2,
            title: "Принципы и цели эсперанто",
            content: "Основные принципы эсперанто: простота изучения, логичность грамматики, интернациональность словаря и нейтральность. Язык создавался как мост между культурами, не заменяя национальные языки, а дополняя их. Эсперанто должен быть легким для изучения представителями любых народов.",
            examples: [
              "Простота: 16 основных грамматических правил без исключений",
              "Логичность: каждый аффикс имеет постоянное значение",
              "Интернациональность: корни слов знакомы носителям европейских языков"
            ],
            keyTerms: ["простота", "логичность", "интернациональность", "нейтральность"],
            practicalTips: [
              "Сравните сложность изучения эсперанто с другими языками",
              "Обратите внимание на отсутствие исключений в грамматике"
            ]
          }
        ],
        questions: [
          {
            id: 1,
            type: 'multiple-choice',
            question: 'В каком году был создан язык эсперанто?',
            options: ['1885', '1887', '1889', '1892'],
            correctAnswer: '1887',
            explanation: 'Эсперанто был создан в 1887 году доктором Заменгофом, когда была опубликована первая книга "Международный язык".',
            hints: ['Это конец XIX века', 'Год публикации первого учебника'],
            difficulty: 'easy'
          },
          {
            id: 2,
            type: 'multiple-choice',
            question: 'Кто создал язык эсперанто?',
            options: ['Доктор Заменгоф', 'Профессор Шлейер', 'Луи де Бофрон', 'Отто Есперсен'],
            correctAnswer: 'Доктор Заменгоф',
            explanation: 'Людвик Лазарь Заменгоф, польский врач и лингвист, создал эсперанто под псевдонимом "Доктор Эсперанто".',
            hints: ['Польский врач и лингвист', 'Использовал псевдоним "Доктор Эсперанто"'],
            difficulty: 'easy'
          },
          {
            id: 3,
            type: 'multiple-choice',
            question: 'Что означает слово "эсперанто"?',
            options: ['международный', 'простой', 'надеющийся', 'универсальный'],
            correctAnswer: 'надеющийся',
            explanation: 'Слово "эсперанто" происходит от псевдонима создателя "Доктор Эсперанто", что означает "тот, кто надеется".',
            hints: ['Связано с надеждой', 'Происходит от псевдонима создателя'],
            difficulty: 'medium'
          }
        ]
      },
      {
        id: 2,
        title: "История и цели языка",
        description: "Развитие эсперанто и его роль в международном общении",
        duration: "25 мин",
        theoryBlocks: [
          {
            id: 1,
            title: "Развитие эсперанто-движения",
            content: "После публикации первого учебника эсперанто быстро распространился по всему миру. Первый Всемирный конгресс эсперантистов состоялся в 1905 году в Булонь-сюр-Мер. С тех пор эсперанто-движение развивается как международное культурное явление с собственной литературой, музыкой и традициями.",
            examples: [
              "1905 год — первый Всемирный конгресс в Булонь-сюр-Мер",
              "Более 120 стран имеют эсперанто-организации",
              "Ежегодные международные конгрессы собирают тысячи участников"
            ],
            keyTerms: ["Всемирный конгресс", "эсперанто-движение", "международная культура"],
            practicalTips: [
              "Изучите историю конгрессов для понимания развития сообщества",
              "Познакомьтесь с современными эсперанто-организациями"
            ]
          }
        ],
        questions: [
          {
            id: 4,
            type: 'multiple-choice',
            question: 'Когда состоялся первый Всемирный конгресс эсперантистов?',
            options: ['1903', '1905', '1907', '1910'],
            correctAnswer: '1905',
            explanation: 'Первый Всемирный конгресс эсперантистов состоялся в 1905 году в французском городе Булонь-сюр-Мер.',
            hints: ['Начало XX века', 'Через 18 лет после создания языка'],
            difficulty: 'medium'
          }
        ]
      },
      {
        id: 3,
        title: "Принципы и структура языка",
        description: "Основные лингвистические принципы эсперанто",
        duration: "35 мин",
        theoryBlocks: [
          {
            id: 1,
            title: "Грамматические принципы",
            content: "Эсперанто построен на принципе агглютинации — слова образуются путем присоединения аффиксов к корням. Грамматика имеет всего 16 основных правил без исключений. Каждая часть речи имеет характерное окончание, что делает структуру языка прозрачной и логичной.",
            examples: [
              "Существительные: -o (domo — дом)",
              "Прилагательные: -a (bela — красивый)",
              "Наречия: -e (bele — красиво)",
              "Глаголы: -i (lerni — учить)"
            ],
            keyTerms: ["агглютинация", "16 правил", "окончания частей речи", "без исключений"],
            practicalTips: [
              "Запомните окончания частей речи — это основа языка",
              "Обратите внимание на отсутствие исключений в правилах"
            ]
          }
        ],
        questions: [
          {
            id: 5,
            type: 'multiple-choice',
            question: 'Сколько основных грамматических правил в эсперанто?',
            options: ['12', '16', '20', '24'],
            correctAnswer: '16',
            explanation: 'В эсперанто всего 16 основных грамматических правил, и все они действуют без исключений.',
            hints: ['Меньше 20', 'Четное число'],
            difficulty: 'easy'
          },
          {
            id: 6,
            type: 'multiple-choice',
            question: 'Какое окончание имеют существительные в эсперанто?',
            options: ['-a', '-e', '-i', '-o'],
            correctAnswer: '-o',
            explanation: 'Все существительные в эсперанто оканчиваются на -o в единственном числе.',
            hints: ['Гласная буква', 'Как в итальянском языке'],
            difficulty: 'easy'
          }
        ]
      },
      {
        id: 4,
        title: "Международность и культура",
        description: "Эсперанто как международный культурный феномен",
        duration: "30 мин",
        theoryBlocks: [
          {
            id: 1,
            title: "Эсперанто в современном мире",
            content: "Сегодня эсперанто используется в более чем 120 странах мира. Существует богатая литература на эсперанто, включая оригинальные произведения и переводы классики. Интернет дал новый импульс развитию языка — появились онлайн-курсы, форумы, социальные сети на эсперанто.",
            examples: [
              "Википедия на эсперанто — одна из крупнейших",
              "Радиостанции ведут передачи на эсперанто",
              "Международные семьи используют эсперанто как общий язык"
            ],
            keyTerms: ["120 стран", "литература", "интернет", "международные семьи"],
            practicalTips: [
              "Изучите ресурсы в интернете для практики языка",
              "Познакомьтесь с культурными произведениями на эсперанто"
            ]
          }
        ],
        questions: [
          {
            id: 7,
            type: 'multiple-choice',
            question: 'В скольких странах мира используется эсперанто?',
            options: ['более 80', 'более 100', 'более 120', 'более 150'],
            correctAnswer: 'более 120',
            explanation: 'Эсперанто используется в более чем 120 странах мира, что делает его действительно международным языком.',
            hints: ['Больше ста', 'Почти все страны мира'],
            difficulty: 'medium'
          }
        ]
      },
      {
        id: 5,
        title: "Где говорят на Эсперанто",
        description: "География распространения эсперанто",
        duration: "20 мин",
        theoryBlocks: [
          {
            id: 1,
            title: "Географическое распространение",
            content: "Эсперанто не имеет географических границ. Наибольшее количество говорящих в Европе, Восточной Азии и Южной Америке. Особенно активные сообщества в Китае, Японии, Бразилии, Германии, Франции. В некоторых странах эсперанто даже включен в школьные программы.",
            examples: [
              "Китай — крупнейшее эсперанто-сообщество в мире",
              "Бразилия — центр эсперанто в Южной Америке",
              "Венгрия — эсперанто в школьных программах"
            ],
            keyTerms: ["география", "сообщества", "школьные программы", "активные страны"],
            practicalTips: [
              "Найдите местное эсперанто-сообщество для практики",
              "Используйте международные контакты для изучения языка"
            ]
          }
        ],
        questions: [
          {
            id: 8,
            type: 'multiple-choice',
            question: 'В какой стране находится крупнейшее эсперанто-сообщество?',
            options: ['Германия', 'Китай', 'Бразилия', 'Япония'],
            correctAnswer: 'Китай',
            explanation: 'Китай имеет крупнейшее в мире сообщество эсперантистов, с активными организациями и образовательными программами.',
            hints: ['Азиатская страна', 'Самая населенная страна мира'],
            difficulty: 'medium'
          }
        ]
      }
    ]
  },
  {
    id: 2,
    title: "Алфавит и произношение",
    description: "Алфавит и звуки, специальные буквы, ударение, правила чтения",
    difficulty: "Легкий",
    estimatedTime: "2-3 часа",
    prerequisites: [1],
    sections: [
      {
        id: 1,
        title: "Алфавит и звуки",
        description: "Изучение букв и звуков эсперанто",
        duration: "30 мин",
        theoryBlocks: [
          {
            id: 1,
            title: "Состав алфавита",
            content: "Алфавит эсперанто состоит из 28 букв: 23 латинские буквы (исключая q, w, x, y) плюс 5 букв с диакритическими знаками (ĉ, ĝ, ĥ, ĵ, ŝ, ŭ). Каждая буква имеет только одно произношение во всех позициях, что делает чтение абсолютно предсказуемым.",
            examples: [
              "a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, r, s, t, u, v, z",
              "ĉ, ĝ, ĥ, ĵ, ŝ, ŭ — буквы с диакритическими знаками",
              "Нет букв: q, w, x, y"
            ],
            keyTerms: ["28 букв", "диакритические знаки", "одно произношение", "предсказуемость"],
            practicalTips: [
              "Выучите произношение каждой буквы отдельно",
              "Практикуйте чтение простых слов для закрепления"
            ]
          }
        ],
        questions: [
          {
            id: 9,
            type: 'multiple-choice',
            question: 'Сколько букв в алфавите эсперанто?',
            options: ['26', '28', '30', '32'],
            correctAnswer: '28',
            explanation: 'Алфавит эсперанто содержит 28 букв: 23 латинские буквы плюс 5 букв с диакритическими знаками.',
            hints: ['Больше английского алфавита', 'Включает специальные буквы'],
            difficulty: 'easy'
          }
        ]
      },
      {
        id: 2,
        title: "Специальные буквы и знаки",
        description: "Изучение букв с диакритическими знаками",
        duration: "25 мин",
        theoryBlocks: [
          {
            id: 1,
            title: "Диакритические знаки",
            content: "Пять букв эсперанто имеют диакритические знаки: ĉ (ч), ĝ (дж), ĥ (х), ĵ (ж), ŝ (ш), ŭ (у краткое). Эти буквы обозначают звуки, которых нет в латинском алфавите. При невозможности набора этих букв используется система замещения: ch, gh, hh, jh, sh, u.",
            examples: [
              "ĉokolado (шоколад) — ĉ произносится как 'ч'",
              "ĝardeno (сад) — ĝ произносится как 'дж'",
              "ĵurnalo (журнал) — ĵ произносится как 'ж'"
            ],
            keyTerms: ["диакритические знаки", "система замещения", "специальные звуки"],
            practicalTips: [
              "Изучите способы набора специальных букв на клавиатуре",
              "Запомните систему замещения для случаев, когда нельзя набрать специальные буквы"
            ]
          }
        ],
        questions: [
          {
            id: 10,
            type: 'multiple-choice',
            question: 'Как произносится буква ĉ в эсперанто?',
            options: ['ц', 'ч', 'к', 'с'],
            correctAnswer: 'ч',
            explanation: 'Буква ĉ в эсперанто произносится как русская буква "ч".',
            hints: ['Как в слове "час"', 'Мягкий согласный звук'],
            difficulty: 'easy'
          }
        ]
      },
      {
        id: 3,
        title: "Ударение в словах",
        description: "Правила постановки ударения",
        duration: "20 мин",
        theoryBlocks: [
          {
            id: 1,
            title: "Правило ударения",
            content: "В эсперанто ударение всегда падает на предпоследний слог. Это правило действует без исключений для всех слов, независимо от их происхождения или длины. Знание этого правила позволяет правильно произносить любое слово эсперанто, даже незнакомое.",
            examples: [
              "SA-lu-ton (привет) — ударение на SA",
              "es-pe-RAN-to — ударение на RAN",
              "u-ni-ver-si-TA-to (университет) — ударение на TA"
            ],
            keyTerms: ["предпоследний слог", "без исключений", "универсальное правило"],
            practicalTips: [
              "Всегда считайте слоги с конца слова",
              "Практикуйтесь на словах разной длины"
            ]
          }
        ],
        questions: [
          {
            id: 11,
            type: 'multiple-choice',
            question: 'На какой слог падает ударение в эсперанто?',
            options: ['первый', 'последний', 'предпоследний', 'зависит от слова'],
            correctAnswer: 'предпоследний',
            explanation: 'В эсперанто ударение всегда падает на предпоследний слог, без исключений.',
            hints: ['Не на последний', 'Правило без исключений'],
            difficulty: 'easy'
          }
        ]
      },
      {
        id: 4,
        title: "Транскрипция и правила чтения",
        description: "Система записи произношения",
        duration: "25 мин",
        theoryBlocks: [
          {
            id: 1,
            title: "Принципы чтения",
            content: "Эсперанто читается точно так, как пишется. Каждая буква всегда произносится одинаково, нет немых букв или изменений произношения в зависимости от позиции. Это делает эсперанто одним из самых простых языков для чтения и произношения.",
            examples: [
              "libro — читается точно как написано: ЛИ-бро",
              "amiko — читается: а-МИ-ко",
              "Нет немых букв, как 'h' в английском 'hour'"
            ],
            keyTerms: ["как пишется, так и читается", "нет немых букв", "постоянное произношение"],
            practicalTips: [
              "Читайте вслух для развития правильного произношения",
              "Не бойтесь читать незнакомые слова — произношение предсказуемо"
            ]
          }
        ],
        questions: [
          {
            id: 12,
            type: 'multiple-choice',
            question: 'Как читается слово "amiko" в эсперанто?',
            options: ['АМИко', 'аМИко', 'амиКО', 'АмиКО'],
            correctAnswer: 'аМИко',
            explanation: 'Слово "amiko" читается "аМИко" с ударением на предпоследнем слоге "МИ".',
            hints: ['Ударение на предпоследний слог', 'Читается как пишется'],
            difficulty: 'medium'
          }
        ]
      },
      {
        id: 5,
        title: "Тренировка произношения",
        description: "Практические упражнения по произношению",
        duration: "30 мин",
        theoryBlocks: [
          {
            id: 1,
            title: "Методы тренировки",
            content: "Для развития правильного произношения рекомендуется: чтение вслух, повторение за носителями языка, запись собственного голоса для самоконтроля. Особое внимание уделите специальным буквам и правильной постановке ударения.",
            examples: [
              "Скороговорки: 'Ĉu ĉi tiu ĉapelo estas via?'",
              "Чтение стихов для развития ритма",
              "Прослушивание аудиозаписей носителей языка"
            ],
            keyTerms: ["чтение вслух", "самоконтроль", "специальные буквы", "ритм речи"],
            practicalTips: [
              "Записывайте себя и сравнивайте с образцами",
              "Начинайте с медленного темпа, постепенно ускоряясь"
            ]
          }
        ],
        questions: [
          {
            id: 13,
            type: 'multiple-choice',
            question: 'Какой лучший способ тренировки произношения?',
            options: ['только чтение про себя', 'чтение вслух и прослушивание', 'изучение правил', 'запоминание слов'],
            correctAnswer: 'чтение вслух и прослушивание',
            explanation: 'Лучший способ тренировки произношения — сочетание чтения вслух и прослушивания носителей языка.',
            hints: ['Нужна практика говорения', 'Важно слышать правильное произношение'],
            difficulty: 'medium'
          }
        ]
      }
    ]
  }
];

// Функции для работы с данными
export const getChapterById = (id: number): Chapter | undefined => {
  return esperantoData.find(chapter => chapter.id === id);
};

export const getSectionById = (chapterId: number, sectionId: number): Section | undefined => {
  const chapter = getChapterById(chapterId);
  return chapter?.sections.find(section => section.id === sectionId);
};

export const getQuestionsBySection = (chapterId: number, sectionId: number): Question[] => {
  const section = getSectionById(chapterId, sectionId);
  return section?.questions || [];
};

export const getTheoryBySection = (chapterId: number, sectionId: number): TheoryBlock[] => {
  const section = getSectionById(chapterId, sectionId);
  return section?.theoryBlocks || [];
};

// Статистические функции
export const getTotalQuestions = (): number => {
  return esperantoData.reduce((total, chapter) => {
    return total + chapter.sections.reduce((sectionTotal, section) => {
      return sectionTotal + section.questions.length;
    }, 0);
  }, 0);
};

export const getQuestionsByDifficulty = (difficulty: 'easy' | 'medium' | 'hard'): Question[] => {
  const allQuestions: Question[] = [];
  esperantoData.forEach(chapter => {
    chapter.sections.forEach(section => {
      allQuestions.push(...section.questions.filter(q => q.difficulty === difficulty));
    });
  });
  return allQuestions;
};

// Функции для прогресса обучения
export interface LearningProgress {
  chapterId: number;
  sectionId: number;
  completedQuestions: number[];
  score: number;
  timeSpent: number;
  lastAccessed: Date;
}

export const calculateSectionProgress = (
  chapterId: number, 
  sectionId: number, 
  completedQuestions: number[]
): number => {
  const section = getSectionById(chapterId, sectionId);
  if (!section) return 0;
  
  const totalQuestions = section.questions.length;
  const completed = completedQuestions.length;
  
  return Math.round((completed / totalQuestions) * 100);
};

export const getRecommendedNextSection = (
  currentChapter: number, 
  currentSection: number
): { chapterId: number; sectionId: number } | null => {
  const chapter = getChapterById(currentChapter);
  if (!chapter) return null;
  
  // Если есть следующий раздел в текущей главе
  if (currentSection < chapter.sections.length) {
    return { chapterId: currentChapter, sectionId: currentSection + 1 };
  }
  
  // Если текущая глава завершена, переходим к следующей
  const nextChapter = getChapterById(currentChapter + 1);
  if (nextChapter) {
    return { chapterId: currentChapter + 1, sectionId: 1 };
  }
  
  return null;
};

// Экспорт для использования в компонентах
export default esperantoData;
